RewriteEngine On

# 1. Redirect root to English
RewriteRule ^$ /en/index.php [L]

# 2. Remove .php extension
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.php [L]

# 3. Handle language folders
RewriteRule ^(en|fr)/(.*)$ $1/$2 [L]

# 4. Allow direct asset access
RewriteCond %{REQUEST_URI} \.(css|js|png|jpg|jpeg|gif|ico)$ [NC]
RewriteRule ^ - [L]

# 5. Custom 404
ErrorDocument 404 /en/404.php